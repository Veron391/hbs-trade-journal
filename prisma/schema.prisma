// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
  output   = "../lib/generated/prisma"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Trade {
  id                String   @id @default(cuid())
  userId            String
  assetType         String   // 'stock' | 'crypto'
  symbol            String
  side              String   // 'buy' | 'sell'
  qty               Float
  price             Float
  exitPrice         Float?   // exit price
  pnl               Float?   // optional, journal hisoblab turishi mumkin
  entryDate         DateTime // entry date
  exitDate          DateTime // exit date
  occurredAt        DateTime // trade sanasi/vaqti (UTC) - backward compatibility
  setupNotes        String?  // trade setup notes
  mistakesLearnings String?  // mistakes and learnings
  tags              String?  // comma-separated tags
  link              String?  // trade link
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt
  @@index([userId, entryDate])
}
